<% if (!user) { %>
    <link rel="stylesheet" href="/stylesheets/siwg.css">
  <% } %>
  <script src="/javascripts/goose.js"></script>
  </head>
  <body>
  <header class="p-3 bg-danger text-white">
    <nav class="container">
      <div
        class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
      >
        <ul
          class="nav col-12 col-lg-auto me-lg-auto mb-2 mb-md-0 justify-content-center"
        >
          <li>
            <img 
                src="data:image/png;base64,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" 
                alt="Comic book Libary " 
                class="me-3"
                
              >
          </li>
          <li class="d-flex align-items-center mb-2 mb-lg-0 fs-3">
            <a href="/" class="text-light text-decoration-none"></a>
          </li>
          <li class="d-flex align-items-center ms-3 mb-2 mb-lg-0">
            <a href="/profiles" class="text-light text-decoration-none">
              View Users
            </a>
          </li>
          <% if (user) { %>
            <li class="d-flex align-items-center ms-3 mb-2 mb-lg-0">
              <a href="/messages" class="text-light text-decoration-none">
                Message Board
              </a>
            </li>
          <% } %>
        </ul>
        <form action="/comics/search" method="POST" class="d-flex align-items-center me-3">
          <input name="search" class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
        </form>
        <div class="text-end d-flex align-items-center">
          <% // TODO: Add login logic here %>
          <% if (!user) { %>
            <link rel="stylesheet" href="/stylesheets/siwg.css">
          <% } %>
        </head>
        <body>
          <nav>
            <% if (user) { %>
              <a href="/auth/logout">
                <button type="submit">Logout</button>
              </a>
            <% } else { %>
              <a href="/auth/google" class="siwg-link">
                <button type="submit" class="siwg">
                  <img id="siwg-image" alt="Sign in with Google" />
                </button>
              </a>
            <% } %>
          </nav>
          <% if (user) { %>
            <div id="profile-dropdown" class="dropdown text-end">
              <a 
                id="dropdownUser"
                href="#"
                class="d-block link-light text-decoration-none"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <% if(user?.profile.avatar) {%>
                  <img 
                    class="rounded-circle avatar-img"
                    src="<%= user.profile.avatar %>" 
                    alt="Your avatar"
                  >
                <% } else { %>
                  <img
                    class="avatar-img"
                    src="cover_0_0.img_assist_custom_0.jpg" 
                    alt="A placeholder avatar"
                  >
                <% } %> 
              </a>
              <ul 
                class="dropdown-menu bg-secondary" 
                aria-labelledby="dropdownUser"
              >
                <li>
                  <a 
                    href="/profiles/<%= user.profile._id %>" 
                    class="dropdown-item bg-secondary text-white"
                  >
                    My Profile
                  </a>
                </li>
                <li><hr class="dropdown-divider bg-secondary text-white"></li>
                <li>
                  <a 
                    href="/auth/logout" 
                    class="dropdown-item bg-secondary text-white"
                  >
                    Sign Out
                  </a>
                </li>
              </ul>
            </div>
          <% } else { %>
            
          <% } %>
        </div>
      </div>
    </nav>
  </header>